<div class="card mt-4">
    <div class="d-flex bd-highlight align-items-center ">
        <div class="p-2 flex-grow-1 bd-highlight">
            <h2 class="g-0 m-0 mr-auto card-header py-3 font-bold  bg1">Wallet </h2>
            <div class="g-0 m-0 mr-auto card-header py-3 font-bold bg1">
                <span>Current Balance : {{balance}}</span>
            </div>
        </div>
        <div class="p-2 bd-highlight">
            <button (click)="openDialog()" style="margin-right: 8px;" mat-raised-button color="primary">Topup</button>
        </div>
        <div class="p-2 bd-highlight"> <button (click)="openDialogPurchase()" mat-raised-button color="secondary">Purchase</button></div>
      </div>

    <hr>
    <div class="card-body">
        <div *ngIf="loading" class="spinner1">
            <mat-progress-spinner [diameter]="25" color="primary" mode="indeterminate">
            </mat-progress-spinner>
        </div>
        <div class=" table-responsive" *ngIf="!loading">


            <table [fixedLayout]="" class="table mat-elevation custom" mat-table [dataSource]="dataSource">


                <ng-container *ngIf="!loading">

                    <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                            No data matching the filter.
                        </td>
                    </tr>
                    <!-- ID Column -->
                    <ng-container matColumnDef="id">
                        <mat-header-cell *matHeaderCellDef>id</mat-header-cell>
                        <mat-cell *matCellDef="let element; let i = index;"> <span>{{(i
                                + 1) }}</span></mat-cell>
                        <!-- <mat-cell *matCellDef="let element; let i = index;"> {{i+1}} </mat-cell> -->
                    </ng-container>



                    <!-- 'id', 'name', 'sku', 'stock','price','active'] -->
                    <!-- Progress Column -->
                    <ng-container matColumnDef="date">
                        <mat-header-cell *matHeaderCellDef> Date </mat-header-cell>
                        <mat-cell *matCellDef="let row"><span class="hello"> {{row.createdAt | date }}</span>
                        </mat-cell>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="type">
                        <mat-header-cell *matHeaderCellDef> Type </mat-header-cell>
                        <mat-cell *matCellDef="let row"> <span
                                style="text-transform: capitalize; font-weight: bold;">{{row.type}} </span></mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="productName">
                        <mat-header-cell *matHeaderCellDef> Item Name </mat-header-cell>
                        <mat-cell *matCellDef="let row"> <span
                                style="text-transform: capitalize;">{{row.products?.name}} </span></mat-cell>
                    </ng-container>

                    <ng-container matColumnDef="ProductQuantity">
                        <mat-header-cell *matHeaderCellDef> Item Qty </mat-header-cell>
                        <mat-cell *matCellDef="let row"> <span
                                style="text-transform: capitalize;">{{row.products?.quantity}} </span></mat-cell>
                    </ng-container>

                    <!-- Name Column -->
                    <ng-container matColumnDef="amount">
                        <mat-header-cell *matHeaderCellDef> Amount </mat-header-cell>
                        <mat-cell *matCellDef="let row"> <span class="hello">{{row.amount}}
                                <sub>Tax-{{row.products?.taxPercent ? row.products?.taxPercent :0}} %</sub></span>
                        </mat-cell>
                    </ng-container>

                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <ng-container *ngIf="!loading">
                    <mat-row *matRowDef="let row; columns: displayedColumns;">
                    </mat-row>
                </ng-container>
            </table>

        </div>
        <!-- <div>
            <mat-paginator #paginatorRef [length]="totalResults" [pageSizeOptions]="[5,10,20,30]"
                aria-label="Select page" showFirstLastButtons></mat-paginator>
        </div> -->
    </div>
</div>